<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Custom Chromecast Receiver</title>
  <script src="https://www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
  <style>
    html, body { margin: 0; width: 100%; height: 100%; background: black; }
    video { width: 100%; height: 100%; }
  </style>
</head>
<body>
  <!-- <video id="video" controls></video> -->
  <cast-media-player></cast-media-player>

  <script>
    const context = cast.framework.CastReceiverContext.getInstance();
    const playerManager = context.getPlayerManager();

    // Activate first track
    playerManager.setMessageInterceptor(
      cast.framework.messages.MessageType.LOAD,
      request => {
        if (request.media && request.media.tracks && request.media.tracks.length > 0) {
          request.activeTrackIds = [request.media.tracks[0].trackId];
        }
        return request;
      }
    );

    context.start();
  </script>
</body>
</html>